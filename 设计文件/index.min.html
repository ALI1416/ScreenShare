<!DOCTYPE html><html lang="zh-cmn-Hans"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible"content="IE=edge"><meta name="viewport"content="width=device-width, initial-scale=1.0"><title>屏幕共享</title></head><body style="overflow:hidden"><img id="img"src="image.jpg"alt="网络连接异常"style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);display:none"ondblclick="end()"><div id="div"><h1>屏幕共享</h1><p id="origin"style="font-size:20px;"></p><p id="current"style="font-size:20px;"></p><button onclick="start()"style="font-size:30px;">点击开始</button><p style="font-size:20px;">双击图像结束</p></div><script>const imgWidth=1920;const imgHeight=1080;const frame=5;const speed=1000/frame;const img=document.getElementById("img");const div=document.getElementById("div");const origin=document.getElementById("origin");const current=document.getElementById("current");let count=0;let refreshImg;origin.innerHTML="远端视频尺寸："+imgWidth+"x"+imgHeight+"px，帧率："+frame+"FPS";adjustImg();function adjustImg(){if(imgWidth/window.innerWidth<imgHeight/window.innerHeight){img.style.height="100%";img.style.width=null}else{img.style.width="100%";img.style.height=null}current.innerHTML="当前屏幕尺寸："+window.innerWidth+"x"+window.innerHeight+"px"}function start(){refreshImg=setInterval(getImg,speed);div.style.display="none";img.style.display="block"}function end(){img.style.display="none";div.style.display="block";clearInterval(refreshImg);count=0}function getImg(){img.src="image.jpg?r="+Math.random()}window.onresize=()=>{adjustImg()};img.addEventListener("error",()=>{if(count++===10){end()}});</script></body></html>